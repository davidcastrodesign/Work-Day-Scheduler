<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, shrink-to-fit=no">
    <meta http-equiv="X-UA-Compatible" content="ie=edge">

    <link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.4.1/css/bootstrap.min.css"
        integrity="sha384-Vkoo8x4CGsO3+Hhxv8T/Q5PaXtkKtu6ug5TOeNV6gBiFeWPGFN9MuhOf23Q9Ifjh" crossorigin="anonymous">
    <link rel="stylesheet" type="text/css" href="assets/css/style.css">
    <script src="https://momentjs.com/downloads/moment-with-locales.js" type="text/javascript"></script>
    <script src="https://code.jquery.com/jquery-3.4.1.slim.min.js" type="text/javascript"
        integrity="sha384-J6qa4849blE2+poT4WnyKhv5vZF5SrPo0iEjwBvKU7imGFAV0wwj1yYfoRSJoZ+n"
        crossorigin="anonymous"></script>
    <script src="https://cdn.jsdelivr.net/npm/popper.js@1.16.0/dist/umd/popper.min.js" type="text/javascript"
        integrity="sha384-Q6E9RHvbIyZFJoft+2mJbHaEWldlvI9IOYy5n3zV9zzTtmI3UksdQRVvoxMfooAo"
        crossorigin="anonymous"></script>
    <script src="https://stackpath.bootstrapcdn.com/bootstrap/4.4.1/js/bootstrap.min.js" type="text/javascript"
        integrity="sha384-wfSDF2E50Y2D1uUdj0O3uMBJnjuUD4Ih7YwaYd1iqfktj0Uod8GCExl3Og8ifwB6"
        crossorigin="anonymous"></script>
    <title>Document</title>
</head>

<body>
    <header>
        <h1>Work Day Scheduler</h1>
        <div>
            <script type="text/javascript">document.write(moment().format('dddd, MMMM Do'));
                nine = moment().hours(9).startOf('hour')
                ten = moment().hours(10).startOf('hour');
                eleven = moment().hours(11).startOf('hour');
                twelve = moment().hours(12).startOf('hour');
                thirteen = moment().hours(13).startOf('hour');
                fourteen = moment().hours(14).startOf('hour');
                fifteen = moment().hours(15).startOf('hour');
                sixteen = moment().hours(16).startOf('hour');
                seventeen = moment().hours(17).startOf('hour');
                function colorBackground(now, id, time) {
                    if (time < now) {
                        $(id).addClass('past');
                    } else if (time > now) {
                        $(id).addClass('future');
                    } else {
                        $(id).addClass('present');
                    }
                };
                function restoreValue(element) {
                   /* value = localStorage.getItem(element.id.replace('#', ''));
                    console.log("restoring " + value);
                    element.value = value; */
                }; 

                function saveValue(element) {
                    console.log("saving " + element.value);
                    localStorage.setItem(element.id.replace('#', ''), element.value);
                };
                $(document).ready(function () {
                    $('#id-9').on('load', function () {
                        alert($(this).id)
                    });
                    now = moment().startOf('hour');
                    colorBackground(now, '#id-9', nine);
                    colorBackground(now, '#id-10', ten);
                    colorBackground(now, '#id-11', eleven);
                    colorBackground(now, '#id-12', twelve);
                    colorBackground(now, '#id-13', thirteen);
                    colorBackground(now, '#id-14', fourteen);
                    colorBackground(now, '#id-15', fifteen);
                    colorBackground(now, '#id-16', sixteen);
                    colorBackground(now, '#id-17', seventeen);
                    restoreValue($('#id-9'));
                    restoreValue($('#id-10'));
                    restoreValue($('#id-11'));
                    restoreValue($('#id-12'));
                    restoreValue($('#id-13'));
                    restoreValue($('#id-14'));
                    restoreValue($('#id-15'));
                    restoreValue($('#id-16'));
                    restoreValue($('#id-17'));
                    $('#id-9, #id-10, #id-11, #id-12, #id-13, #id-14, #id-15, #id-16, #id-17').on('change', function () {
                        saveValue(this);
                    });
                });


            </script>
        </div>
        <hr>
    </header>

    <main>
        <div class="container">
            <div class="row">
                <div class="col-2">
                    9AM
                </div>
                <textarea class="col-8" id="id-9">

                </textarea>
                <div class="col-1">
                    box
                </div>
            </div>
            <div class="row">
                <div class="col-2">
                    10AM
                </div>
                <textarea class="col-8" id="id-10">

                </textarea>
                <div class="col-1">
                    box
                </div>
            </div>
            <div class="row">
                <div class="col-2">
                    11AM
                </div>
                <textarea class="col-8" id="id-11">

                </textarea>
                <div class="col-1">
                    box
                </div>
            </div>
            <div class="row">
                <div class="col-2">
                    12PM
                </div>
                <textarea class="col-8" id="id-12">

                </textarea>
                <div class="col-1">
                    box
                </div>
            </div>
            <div class="row">
                <div class="col-2">
                    1PM
                </div>
                <textarea class="col-8" id="id-13">

                </textarea>
                <div class="col-1">
                    box
                </div>
            </div>
            <div class="row">
                <div class="col-2">
                    2PM
                </div>
                <textarea class="col-8" id="id-14">

                </textarea>
                <div class="col-1">
                    box
                </div>
            </div>
            <div class="row">
                <div class="col-2">
                    3PM
                </div>
                <textarea class="col-8" id="id-15">

                </textarea>
                <div class="col-1">
                    box
                </div>
            </div>
            <div class="row">
                <div class="col-2">
                    4PM
                </div>
                <textarea class="col-8" id="id-16">

                </textarea>
                <div class="col-1">
                    box
                </div>
            </div>
            <div class="row">
                <div class="col-2">
                    5PM
                </div>
                <textarea class="col-8" id="id-17">

                </textarea>
                <div class="col-1">
                    box
                </div>
            </div>
        </div>

    </main>

    <footer>

    </footer>


</body>

</html>